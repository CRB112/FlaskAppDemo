<!doctype html>
<html lang="en" data-bs-theme="dark">
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    </head>
    <body class="row justify-content-center align-items-center mx-5" style="height:100vh">
        <div class="col container text-center justify-content-center">
            <div class="row my-4">
                <h1 class="mx-auto my-4">Search</h1>

                <form class="d-flex flex-column align-items-center" action="/search" method="POST">
                        <label for="name" class="text-start my-1">Name:</label>
                        <input type="text" id="name" name="name" placeholder="Search by Name" class="my-1 form-control" style="width:200px">
                        <br><br>
                        
                        <label for="id" class="my-1 text-start">ID:</label>
                        <input type="text" id="id" name="id" placeholder="Search by ID" class="my-1 form-control" style="width:200px">
                        <br><br> 
                    <button class="btn btn-outline-primary mt-1" type="submit">Search</button>
                
                </form>
            </div>
            <div class="d-flex row my-4 align-items-center justify-content-center">
                <h3 class="mx-auto my-4">Can't Find Student?</h3>
                <button class="btn btn-outline-primary" style="Width:30%" data-bs-toggle="modal" data-bs-target="#AddModal">Add Them</button>
            </div>
        </div>
        <div class="col" style="max-height: 600px; overflow-y:auto">
            <table class="table table-striped">
                <thead style="position: sticky; top:0">
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Department</th>
                        <th>Credits</th>
                        <th>Schedule</th>
                    </tr>
                </thead>
                <tbody class="table-group-divider">
                    {% for row in data %}
                    <tr>
                        <td>{{row[0]}}</td>
                        <td>{{row[1]}}</td>
                        <td>{{row[2]}}</td>
                        <td>{{row[3]}}</td>
                        <td>
                            <form class="mx-auto" action="{{ url_for('schedulePage') }}" method="get">
                                <input type="hidden" name="action" value="getSchedule">
                                <input type="hidden" name="studentID"value="{{ row[0] }}">
                                <button class="btn btn-outline-primary" type="submit">Go to Schedule</button>
                            </form>
                        </td>
                            
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="modal fade" id="AddModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog-centered modal-dialog justify-self-center align-self-center">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Add Student</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form class="container" id="AddStudentForm" action="/search" method="POST">
                            <input type="hidden" name="action" value="addStudent"></input>
                            
                            <div class="row my-3">
                                <label class="col text-center">ID</label>
                                <input required class="col" type="text" id="submitID" name="submitID" minlength="5" maxlength="5" placeholder="Input ID">
                                <div class="col"></div>
                            </div>

                            <div class="row my-3">
                                <label class="col text-center">Name</label>
                                <input required class="col" type="text" id="submitName" name="submitName" maxlength="20" placeholder="Input name">
                                <div class="col"></div>
                            </div>

                            <div class="row my-3">
                                <label class="col text-center">Department</label>
                                <select required class="col" name="submitDept" id="submitDept" class="form-select">
                                    <option value="Biology">Biology</option>
                                    <option value="Comp. Sci.">Computer Science</option>
                                    <option value="Elec. Eng.">Electrical Engineering</option>
                                    <option value="Finance">Finance</option>
                                    <option value="History">History</option>
                                    <option value="Music">Music</option>
                                    <option value="Physics">Physics</option>
                                </select>
                                <div class="col"></div>
                            </div>

                            <div class="row my-3">
                                <label class="col text-center">Transfer Credits?</label>
                                <input class="col" type="number" max="999" min="0" id="submitCred" name="submitCred" value="0" placeholder="# Credits">
                                <div class="col"></div>
                            </div>
                            

                        </form>                    
                    </div>
                    <div class="modal-footer justify-content-center">
                        <button type="submit" class="d-flex btn btn-primary" form="AddStudentForm">Save changes</button>
                    </div>
                </div>
            </div>
        </div>
        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    </body>
</html>